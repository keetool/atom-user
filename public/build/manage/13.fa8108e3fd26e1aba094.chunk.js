(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{578:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatTime=u;var r=a(201);var n=a(527);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"LLLL";return(0,r.capitalizeFirstLetter)(o.default.unix(e).format(t))}},793:function(e,t,a){e.exports={"table-log":"table-log__3eBWr"}},794:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getPostsApi=u;var r=a(202);var n=i(r);var o=a(203);function i(e){return e&&e.__esModule?e:{default:e}}function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=o.MANAGE_API_URL+"v1/post/all";return n.default.get(t,{params:{page:e.page?e.page:1,limit:10,order:e.sortCreatedAt?e.sortCreatedAt:""}})}},795:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getPosts=i;var r=a(794);var n=a(552);var o=a(201);function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e({isLoading:true});(0,r.getPostsApi)(t).then(function(t){if((0,n.httpSuccess)(t.status)){console.log(t);e({isLoading:false,data:t.data.data,pagination:(0,o.formatPagination)(t.data.meta)})}}).catch(function(e){(0,n.messageHttpRequest)(e)}).finally(function(){e({isLoading:false})})}},853:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(609);var n=P(r);var o=a(576);var i=P(o);var u=a(540);var l=P(u);var c=a(645);var d=P(c);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var f=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,a,r){if(a)e(t.prototype,a);if(r)e(t,r);return t}}();a(606);a(596);a(546);a(642);var p=a(1);var v=P(p);var m=a(795);var g=a(571);var b=a(793);var h=P(b);var y=a(93);var _=a(201);var w=a(578);function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function O(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var k=function e(t){return[{title:(0,_.capitalizeFirstLetter)(t("manage.post.table.header.creator")),dataIndex:"creator",key:"creator",width:"15%",render:function e(t,a,r){return v.default.createElement("div",{key:r},v.default.createElement(d.default,{src:t.avatar_url}),"   ",t.name)}},{title:(0,_.capitalizeFirstLetter)(t("manage.post.table.header.body")),dataIndex:"body",key:"body",render:function e(a){return""+(0,_.capitalizeFirstLetter)(t(a))},width:"20%"},{title:"Comments",dataIndex:"comment",key:"comment",render:function e(t){return t}},{title:"Up vote",dataIndex:"upvote",key:"upvote",render:function e(t){return t}},{title:"Down vote",dataIndex:"downvote",key:"downvote",render:function e(t){return t}},{title:(0,_.capitalizeFirstLetter)(t("manage.post.table.header.created_at")),dataIndex:"created_at",key:"created_at",sorter:true},{title:"",dataIndex:"",key:"x",render:function e(){return v.default.createElement("span",null,v.default.createElement(l.default.Group,null,v.default.createElement(i.default,{title:t("manage.post.table.action.hide")},v.default.createElement(l.default,{icon:"close-circle-o"})),v.default.createElement(i.default,{title:t("manage.post.table.action.detail")},v.default.createElement(l.default,{icon:"info-circle-o"}))))}}]};var j=function(e){E(t,e);function t(e,a){L(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));r.state={isLoading:true,data:[],pagination:null};r.handleTableChange=function(e,t,a){var n=s({},r.state.pagination);n.current=e.current;r.setState({pagination:n});(0,m.getPosts)(r.setData,s({page:e.current,sortCreatedAt:(0,_.formatSortTable)(a,"created_at")},t))};r.setData=r.setState.bind(r);return r}f(t,[{key:"componentDidMount",value:function e(){(0,m.getPosts)(this.setData)}},{key:"render",value:function e(){var t=this.state,a=t.data,r=t.isLoading,o=t.pagination;var i=this.props.t;var u=a?a.map(function(e){return{creator_name:e.creator.name,creator:e.creator,comment:e.num_comments,upvote:e.upvote,downvote:e.downvote,body:(0,_.shortString)(e.body,20),created_at:(0,w.formatTime)(e.created_at)}}):[];return v.default.createElement("div",{className:h.default["table-log"]},v.default.createElement(n.default,{dataSource:u,columns:k(i),rowKey:function e(t,a){return a},loading:r,pagination:o,onChange:this.handleTableChange}))}}]);return t}(p.Component);t.default=(0,y.translate)(function(e){return e.namespaces})((0,g.withAccount)(j))}}]);