(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{526:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(575);var i=o(n);t.messageSuccess=u;t.messageError=l;t.messageWarning=c;r(592);var a=r(527);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:a.DISTANCE_TOP_MESSAGE_HOME;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2.5;i.default.config({top:t});i.default.success(e,r)}function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:a.DISTANCE_TOP_MESSAGE_HOME;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2.5;i.default.config({top:t});i.default.error(e,r)}function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:a.DISTANCE_TOP_MESSAGE_HOME;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2.5;i.default.config({top:t});i.default.warning(e,r)}},529:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var i=r(1);var a=p(i);var o=r(2);var u=p(o);var l=r(554);var c=p(l);var f=r(198);var s=p(f);function p(e){return e&&e.__esModule?e:{default:e}}var d=s.default.bind(c.default);var v=function e(t){var r=t.url,i=r===undefined?"":r,o=t.size,u=o===undefined?30:o,l=t.style,c=l===undefined?{}:l;return a.default.createElement("div",{className:d({avatar:true}),style:n({backgroundImage:"url("+i+")",width:u,height:u},c)})};v.propTypes={url:u.default.string.isRequired,size:u.default.number,style:u.default.object};t.default=v},535:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(1);var a=l(i);var o=r(588);var u=l(o);r(587);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function e(){return function(e){var t=function(t){s(r,t);function r(){c(this,r);return f(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}n(r,[{key:"render",value:function t(){return a.default.createElement("div",{className:"show-loading-animation"},a.default.createElement(u.default,{ready:false,type:"text",customPlaceholder:a.default.createElement(e,null)},a.default.createElement("div",null)))}}]);return r}(i.Component);return t}};t.default=p},551:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r){var i=this;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:500;n(this,e);this.id=null;this.distance=0;this.handle=null;this.addEventScroll=function(){document.addEventListener("scroll",i.trackScrolling)};this.trackScrolling=function(){var e=document.getElementById(i.id);if(i.isBottom(e)){if(i.handle){i.handle()}document.removeEventListener("scroll",i.trackScrolling)}};this.isBottom=function(e){return e.getBoundingClientRect().bottom-i.distance<=window.innerHeight};this.id=t;this.handle=r;this.distance=a};t.default=i},552:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatTime=u;t.convertTime=l;t.relativeTime=c;t.fullRelativeTime=f;var n=r(199);var i=r(520);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"llll";return(0,n.capitalizeFirstLetter)(l(e).format(t))}function l(e){return a.default.unix(e)}function c(e){var t=(0,a.default)().unix();if(t-e>24*60*60){return u(e)}return(0,n.capitalizeFirstLetter)(l(e).startOf("minute").fromNow())}function f(e){return(0,n.capitalizeFirstLetter)(l(e).startOf("minute").fromNow())}},554:function(e,t,r){e.exports={avatar:"__1uaVwP"}},563:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getNotificationsApi=u;t.getNotificationsByMerchantApi=l;t.seenNotificationApi=c;var n=r(202);var i=o(n);var a=r(136);function o(e){return e&&e.__esModule?e:{default:e}}function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var t=a.MERCHANT_API_URL+("v1/user/notification/after/"+e);return i.default.get(t)}function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var t=a.MERCHANT_API_URL+("v1/user/notification/merchant/after/"+e);return i.default.get(t)}function c(e){var t=a.MERCHANT_API_URL+("v1/user/notification/"+e+"/seen");return i.default.put(t)}},564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};t.splitKeyData=p;t.convertTypeNotiToKey=d;t.getContentNotiWithoutData=v;t.getContentNotiWithData=y;t.getDataNotification=g;t.linkNotification=_;var i=r(200);var a=u(i);var o=r(199);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var c="social.notification.type";var f={user:"user",post_creator:"post.creator"};var s={"post.vote.up.create":{link:"/post/:postID",action_web:"postID"},"post.vote.down.create":{link:"/post/:postID",action_web:"postID"},"post.comment.create":{link:"/post/:postID",action_web:"postID"}};function p(e){var t=/{{\S+}}/g;var r=e.match(t);if(r){return e.match(t).map(function(e){return e.replace(/{/g,"").replace(/}/g,"")})}else{return[]}}function d(e){return c+"."+e.replace(/\./g,"_")}function v(e){return a.default.t(e,{interpolation:{prefix:"__",suffix:"__"}})}function y(e,t){var r={interpolation:{escapeValue:false}};var a=n({},t,r);return(0,i.translateI18n)(e,a)}function h(e){var t={};e.forEach(function(e){t[e.type]=e.data});return t}function m(e,t){var r={};t.forEach(function(t){var n=f[t];r[t]=(0,o.getValueObjectFromStringKey)(e,n)});return r}function b(e,t){var r=d(t);var n=v(r);var i=p(n);return m(e,i)}function g(e,t){var r=h(e);return b(r,t)}function _(e,t){var r=s[e];return(0,o.linkRoute)(r.link,l({},r.action_web,t))}},565:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.CREATE_COMMENT="comment.create";var i=t.CREATE_NOTIFICATION="notification.create";var a=t.CREATE_POST="post.create"},566:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(627);var i=o(n);var a=r(136);function o(e){return e&&e.__esModule?e:{default:e}}var u=a.SOCKET_HOST+":"+a.SOCKET_PORT;var l=(0,i.default)(u);t.default=l},619:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i,a,o,u,l;var c=r(525);var f=r(564);var s=r(524);var p=r(563);function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var o=t[i](a);var u=o.value}catch(e){r(e);return}if(o.done){e(u)}else{return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)})}}return n("next")})}}function v(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t,r,n,i){var a={};Object["ke"+"ys"](n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object["define"+"Property"](e,t,a);a=null}return a}function m(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var b=(o=function(){function e(t){y(this,e);v(this,"notification",u,this);v(this,"error",l,this);t.data=(0,f.getDataNotification)(t.detail,t.type);this.notification=t}n(e,[{key:"seenNotification",value:function(){var e=d(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;t=this.notification.id;n.next=4;return(0,p.seenNotificationApi)(t);case 4:r=n.sent;if(!(0,s.httpSuccess)(r.status)){this.error=(0,s.messageHttpRequest)()}n.next=11;break;case 8:n.prev=8;n.t0=n["catch"](0);this.error=(0,s.messageHttpRequest)(n.t0);case 11:case"end":return n.stop()}}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"isUnseen",get:function e(){return this.notification&&this.notification.status=="unseen"}}]);return e}(),u=h(o.prototype,"notification",[c.observable],{enumerable:true,initializer:function e(){return null}}),l=h(o.prototype,"error",[c.observable],{enumerable:true,initializer:function e(){return null}}),h(o.prototype,"seenNotification",[c.action],Object.getOwnPropertyDescriptor(o.prototype,"seenNotification"),o.prototype),h(o.prototype,"isUnseen",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"isUnseen"),o.prototype),o);t.default=b},620:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i,a,o,u,l,c,f;var s=r(525);var p=r(524);var d=r(199);var v=r(619);var y=b(v);var h=r(563);var m=r(526);function b(e){return e&&e.__esModule?e:{default:e}}function g(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return Array.from(e)}}function _(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var o=t[i](a);var u=o.value}catch(e){r(e);return}if(o.done){e(u)}else{return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)})}}return n("next")})}}function E(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function w(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function O(e,t,r,n,i){var a={};Object["ke"+"ys"](n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object["define"+"Property"](e,t,a);a=null}return a}function P(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var N=(o=function(){function e(){w(this,e);E(this,"notifications",u,this);E(this,"isLoading",l,this);E(this,"error",c,this);E(this,"pagination",f,this)}n(e,[{key:"getNotifications",value:function(){var e=_(regeneratorRuntime.mark(function e(){var t,r,n,i,a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:if(!this.isLoading){o.next=2;break}return o.abrupt("return");case 2:this.isLoading=true;this.error=null;t=(0,d.getLastArr)(this.notifications);r=t?t.notification.id:"";o.prev=6;o.next=9;return(0,h.getNotificationsByMerchantApi)(r);case 9:n=o.sent;i=n.data;if((0,p.httpSuccess)(n.status)){a=i.data;this.notifications=[].concat(g(this.notifications),g(this.createStoreNotifications(a)));i.meta.remain_total=i.meta.total-a.length;this.pagination=i.meta}else{this.error=(0,p.messageHttpRequest)()}o.next=17;break;case 14:o.prev=14;o.t0=o["catch"](6);this.error=(0,p.messageHttpRequest)(o.t0);case 17:o.prev=17;this.isLoading=false;if(!(0,d.isEmpty)(this.error)){(0,m.messageError)(this.error)}return o.finish(17);case 21:case"end":return o.stop()}}},e,this,[[6,14,17,21]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"addNotification",value:function e(t){if(this.isLoading)return;var r=this.createStoreNotification(t);this.notifications=[r].concat(g(this.notifications))}},{key:"createStoreNotifications",value:function e(t){var r=this;return t.map(function(e){return r.createStoreNotification(e)})}},{key:"createStoreNotification",value:function e(t){return new y.default(t)}},{key:"isEmpty",get:function e(){return!this.isLoading&&!this.error&&(0,d.isEmptyArr)(this.notifications)}},{key:"isLoadMore",get:function e(){return this.pagination.remain_total>0}}]);return e}(),u=O(o.prototype,"notifications",[s.observable],{enumerable:true,initializer:function e(){return[]}}),l=O(o.prototype,"isLoading",[s.observable],{enumerable:true,initializer:function e(){return false}}),c=O(o.prototype,"error",[s.observable],{enumerable:true,initializer:function e(){return null}}),f=O(o.prototype,"pagination",[s.observable],{enumerable:true,initializer:function e(){return{}}}),O(o.prototype,"getNotifications",[s.action],Object.getOwnPropertyDescriptor(o.prototype,"getNotifications"),o.prototype),O(o.prototype,"addNotification",[s.action],Object.getOwnPropertyDescriptor(o.prototype,"addNotification"),o.prototype),O(o.prototype,"isEmpty",[s.computed],Object.getOwnPropertyDescriptor(o.prototype,"isEmpty"),o.prototype),O(o.prototype,"isLoadMore",[s.computed],Object.getOwnPropertyDescriptor(o.prototype,"isLoadMore"),o.prototype),o);t.default=N},622:function(e,t){},685:function(e,t,r){e.exports={"notification-container":"__1xnOoT","notification-container-body":"__25kAVf","notification-unseen":"__2IQ9mE","notification-content-time":"__1fUrPs"}},955:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};t.default=d;var i=r(200);var a=l(i);var o=r(199);var u=r(564);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(e.id==t){return n({},e,{message:a.default.t("social.global.you")})}else{return n({},e,{message:e.name,url:"/profile/"+e.id})}}function f(e,t){if(e.id==t){return n({},e,{message:a.default.t("social.global.your")})}else{return n({},e,{message:e.name,url:"/profile/"+e.id})}}function s(e,t,r){switch(e){case"user":return c(t,r);case"post_creator":return f(t,r);default:return t}}function p(e){var t="";if(e.url){t+='<a href="'+e.url+'">'+e.message+"</a>";return t}if(e.message){t+=e.message;return t}}function d(e,t){var r=e.data;var n=e.type;var i={};Object.keys(r).forEach(function(e){var n=s(e,r[e],t);i[e]=p(n)});var a=(0,u.convertTypeNotiToKey)(n);var l=(0,u.getContentNotiWithData)(a,i);return(0,o.capitalizeFirstLetter)(l)}},956:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i;var a=r(1);var o=O(a);var u=r(2);var l=O(u);var c=r(521);var f=r(92);var s=r(532);var p=r(529);var d=O(p);var v=r(955);var y=O(v);var h=r(552);var m=r(685);var b=O(m);var g=r(198);var _=O(g);var E=r(537);var w=r(564);function O(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function N(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function j(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function k(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var T=_.default.bind(b.default);var M=(0,c.observer)(i=function(e){k(t,e);function t(){var e;var r,n,i;N(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++){o[u]=arguments[u]}return i=(r=(n=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n),n.handleClickNoti=function(){var e=n.props.store;e.seenNotification()},r),j(n,i)}n(t,[{key:"componentDidMount",value:function e(){}},{key:"render",value:function e(){var t=this.props,r=t.prefixCls,n=t.account,i=t.store;var a=i.notification;var u=(0,y.default)(a,n.id);var l=(0,w.linkNotification)(a.type,a.action_web);var c=i.isUnseen;return o.default.createElement(E.Link,{to:l,onClick:this.handleClickNoti},o.default.createElement("div",{className:T(r+"-container",P({},r+"-unseen",c))},o.default.createElement("div",{className:T(r+"-avatar")},o.default.createElement(d.default,{url:a.image_url})),o.default.createElement("div",{className:T(r+"-container-body")},o.default.createElement("div",{className:T(r+"-content-text")},o.default.createElement("div",{dangerouslySetInnerHTML:{__html:u}})),o.default.createElement("div",{className:T(r+"-content-time")},(0,h.relativeTime)(a.created_at)))))}}]);return t}(o.default.Component))||i;M.defaultProps={prefixCls:"notification"};M.propTypes={store:l.default.object.isRequired};t.default=(0,f.translate)(function(e){return e.namespaces})((0,s.withAccount)(M))},958:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(1);var a=d(i);var o=r(535);var u=d(o);var l=r(543);var c=r(685);var f=d(c);var s=r(198);var p=d(s);function d(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=p.default.bind(f.default);var b=function(e){h(t,e);function t(){v(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"componentDidMount",value:function e(){}},{key:"render",value:function e(){var t=this.props.prefixCls;return a.default.createElement("div",{className:m(t+"-container")},a.default.createElement("div",{className:m(t+"-avatar")},a.default.createElement(l.RoundShape,{color:"#E0E0E0",style:{width:30,height:30}})),a.default.createElement("div",{className:m(t+"-container-body")},a.default.createElement("div",{className:m(t+"-content-text")},a.default.createElement(l.TextBlock,{rows:2,color:"#E0E0E0"})),a.default.createElement("div",{className:m(t+"-content-time"),style:{width:"100px"}},a.default.createElement(l.TextBlock,{rows:1,color:"#E0E0E0"}))))}}]);return t}(a.default.Component);b.defaultProps={prefixCls:"notification"};b.propTypes={};t.default=(0,u.default)()(b)},960:function(e,t,r){e.exports={"module-notification-layout":"__1DIWM2","module-notification-layout-empty":"__2zFdDv","module-notification-layout-empty-text":"__1cnAsE"}},961:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i;var a=r(1);var o=M(a);var u=r(521);var l=r(92);var c=r(198);var f=M(c);var s=r(960);var p=M(s);var d=r(620);var v=M(d);var y=r(958);var h=M(y);var m=r(549);var b=M(m);var g=r(956);var _=M(g);var E=r(566);var w=M(E);var O=r(565);var P=r(532);var N=r(136);var j=r(199);var k=r(551);var T=M(k);function M(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function x(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function S(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var A=f.default.bind(p.default);var D="list-noti";var z=(0,u.observer)(i=function(e){S(t,e);function t(e){C(this,t);var r=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.getNotis=function(){var e=r.store;if(e.isLoadMore){e.getNotifications()}};r.renderLoading=function(){return o.default.createElement("div",null,o.default.createElement(h.default,null),o.default.createElement(h.default,null),o.default.createElement(h.default,null),o.default.createElement(h.default,null),o.default.createElement(h.default,null),o.default.createElement(h.default,null),o.default.createElement(h.default,null))};r.store=new v.default;r.scrollView=new T.default(D,r.getNotis);return r}n(t,[{key:"componentDidMount",value:function e(){var t=this;this.store.getNotifications();var r=N.SUBDOMAIN+":"+O.CREATE_NOTIFICATION;w.default.on(r,function(e){var r=e;var n=t.props.account;var i=(0,j.getValueObjectFromStringKey)(r,"receiver.id");if(i==n.id){t.store.addNotification(r)}})}},{key:"componentDidUpdate",value:function e(){var t=this.store.isLoading;if(!t){this.scrollView.addEventScroll()}}},{key:"renderEmptyNoti",value:function e(){var t=this.props,r=t.prefixCls,n=t.t;var i=this.store.isEmpty;if(i){return o.default.createElement("div",{className:A(r+"-layout-empty")},o.default.createElement("div",{className:A(r+"-layout-empty-text")},n("social.notification.noti.empty")))}else{return o.default.createElement("div",null)}}},{key:"render",value:function e(){var t=this.props.prefixCls;var r=this.store,n=r.notifications,i=r.isLoading;return o.default.createElement("div",{id:D,className:A(t+"-layout")},n&&n.length>0?n.map(function(e,t){return o.default.createElement("div",{key:t},o.default.createElement(_.default,{store:e,key:t}))}):i&&this.renderLoading(),i&&o.default.createElement(h.default,null),this.renderEmptyNoti())}}]);return t}(o.default.Component))||i;z.defaultProps={prefixCls:"module-notification"};z.propTypes={};t.default=(0,l.translate)(function(e){return e.namespaces})((0,b.default)()((0,P.withAccount)(z)))}}]);
//# sourceMappingURL=12.2913f6caa8f441c04431.chunk.js.map