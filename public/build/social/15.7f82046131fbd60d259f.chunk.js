(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{547:function(e,t,n){"use strict";n.r(t);var r=n(200);var a=n.n(r);var o=n(559);var i=n.n(o)},548:function(e,t,n){"use strict";n.r(t);var r=n(30);var a=n.n(r);var o=n(52);var i=n.n(o);var s=n(55);var l=n.n(s);var u=n(54);var c=n.n(u);var f=n(53);var d=n.n(f);var g=n(1);var p=n.n(g);var v=n(93);var m=n.n(v);var _=n(138);var b=n(522);var h=n(66);var y=n.n(h);function E(){}var w=function(e){d()(t,e);function t(e){i()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleClose=function(e){e.preventDefault();var t=v["findDOMNode"](n);t.style.height=t.offsetHeight+"px";t.style.height=t.offsetHeight+"px";n.setState({closing:false});(n.props.onClose||E)(e)};n.animationEnd=function(){n.setState({closed:true,closing:true});(n.props.afterClose||E)()};n.state={closing:true,closed:false};return n}l()(t,[{key:"render",value:function e(){var t;var n=this.props,r=n.closable,o=n.description,i=n.type,s=n.prefixCls,l=s===undefined?"ant-alert":s,u=n.message,c=n.closeText,f=n.showIcon,d=n.banner,p=n.className,v=p===undefined?"":p,m=n.style,h=n.iconType;f=d&&f===undefined?true:f;i=d&&i===undefined?"warning":i||"info";if(!h){switch(i){case"success":h="check-circle";break;case"info":h="info-circle";break;case"error":h="cross-circle";break;case"warning":h="exclamation-circle";break;default:h="default"}if(!!o){h+="-o"}}var E=y()(l,(t={},a()(t,l+"-"+i,true),a()(t,l+"-close",!this.state.closing),a()(t,l+"-with-description",!!o),a()(t,l+"-no-icon",!f),a()(t,l+"-banner",!!d),t),v);if(c){r=true}var w=r?g["createElement"]("a",{onClick:this.handleClose,className:l+"-close-icon"},c||g["createElement"](b["default"],{type:"cross"})):null;return this.state.closed?null:g["createElement"](_["a"],{component:"",showProp:"data-show",transitionName:l+"-slide-up",onEnd:this.animationEnd},g["createElement"]("div",{"data-show":this.state.closing,className:E,style:m},f?g["createElement"](b["default"],{className:l+"-icon",type:h}):null,g["createElement"]("span",{className:l+"-message"},u),g["createElement"]("span",{className:l+"-description"},o),w))}}]);return t}(g["Component"]);t["default"]=w},559:function(e,t,n){},564:function(e,t,n){e.exports={"module-signin-container":"__2DS0mL","module-signin-content":"__39Avez","module-signin-footer":"__DMMeAC","module-signin-text-forgot":"__xVqziS","module-signin-top":"__3DXvD9","module-signin-header":"__iaiisK","module-signin-logo":"__s3fszO","module-signin-desc":"__YaE9tg","module-signin-main":"__2TLJEs",icon:"__2cqj3I","module-signin-other":"__2Mtvst","module-signin-register":"__3SIW5G","module-signin-login":"__22x1T2","module-signin-submit":"__1tYhIF","module-signin-btn":"__31J3m0","module-signin-btn-facebook":"__zDuBpD","module-signin-btn-google":"__1sK9M4","module-signin-text-login":"__1VRtVB","module-signin-disable":"__1mk9eu"}},812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(522);var a=b(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();n(528);var i=n(1);var s=b(i);var l=n(92);var u=n(564);var c=b(u);var f=n(198);var d=b(f);var g=n(199);var p=n(2);var v=b(p);var m=n(527);var _=n(526);function b(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function E(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var O=d.default.bind(c.default);var k=function(e){w(t,e);function t(e,n){y(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.loginGoogle=function(){(0,m.signInGoogle)(r.auth2,function(e){r.props.signIn(e)})};r.loadAuth2=function(){window.gapi.load("auth2",function(){r.auth2=window.gapi.auth2.init({client_id:_.GOOGLE_ID,cookiepolicy:"single_host_origin"})})};return r}o(t,[{key:"componentDidMount",value:function e(){this.loadAuth2()}},{key:"render",value:function e(){var t=this.props,n=t.t,r=t.disable,o=t.isLogging,i=t.prefixCls;return s.default.createElement("div",{className:O(i+"-btn",i+"-btn-google",h({},i+"-disable",r)),onClick:o?null:this.loginGoogle},s.default.createElement(a.default,{type:"google",style:{fontSize:25,position:"absolute"}}),s.default.createElement("div",{className:O(i+"-text-login")},(0,g.capitalizeFirstLetter)(n(o?"social.login.form.is_logging":"social.login.form.text_login_google"))))}}]);return t}(s.default.Component);k.defaultProps={prefixCls:"module-signin"};k.propTypes={disable:v.default.bool,isLogging:v.default.bool,signIn:v.default.func};t.default=(0,l.translate)(function(e){return e.namespaces})(k)},813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(522);var a=_(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();n(528);var i=n(1);var s=_(i);var l=n(2);var u=_(l);var c=n(92);var f=n(564);var d=_(f);var g=n(198);var p=_(g);var v=n(199);var m=n(527);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var w=p.default.bind(d.default);var O=function(e){E(t,e);function t(e,n){h(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.loginFacebook=function(){(0,m.signInFB)(function(e){r.props.signIn(e)})};return r}o(t,[{key:"render",value:function e(){var t=this.props,n=t.t,r=t.disable,o=t.isLogging,i=t.prefixCls;return s.default.createElement("div",{className:w(i+"-btn",i+"-btn-facebook",b({},i+"-disable",r)),onClick:r?null:this.loginFacebook},s.default.createElement(a.default,{type:"facebook",style:{fontSize:25,position:"absolute"}}),s.default.createElement("div",{className:w(i+"-text-login")},(0,v.capitalizeFirstLetter)(n(o?"social.login.form.is_logging":"social.login.form.text_login_facebook"))))}}]);return t}(s.default.Component);O.defaultProps={prefixCls:"module-signin"};O.propTypes={disable:u.default.bool,isLogging:u.default.bool,signIn:u.default.func};t.default=(0,c.translate)(function(e){return e.namespaces})(O)},814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.signinApi=s;t.signinFBApi=l;t.signinGoogleApi=u;var r=n(201);var a=i(r);var o=n(137);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=o.MERCHANT_API_URL+"v1/auth/signin";return a.default.post(t,{email:e.username,password:e.password})}function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments[1];var n=""+o.PROTOCOL+t+"."+o.DOMAIN;var r=n+"client-api/"+"v1/auth/facebook/token-signin";return a.default.post(r,{input_token:e.accessToken,facebook_id:e.userID})}function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments[1];var n=""+o.PROTOCOL+t+"."+o.DOMAIN;var r=n+"client-api/"+"v1/auth/google/token-signin";return a.default.post(r,{input_token:e.id_token})}},815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.signin=u;t.signinFB=c;t.signinGoogle=f;var r=n(814);var a=n(618);var o=l(a);var i=n(527);var s=n(523);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){t({isLoading:true,messageError:null});(0,r.signinApi)(e).then(function(e){t({isLoading:false});if((0,s.httpSuccess)(e.status)){(0,i.saveToken)(e.data.access_token,e.data.expires_in);(0,i.saveRefreshToken)(e.data.refresh_token,e.data.expires_in);o.default.push("/")}}).catch(function(e){var n=(0,s.messageHttpRequestSignIn)(e);t({isLoading:false,messageError:n})})}function c(e,t,n){n({isLoggingFB:true,messageError:null});(0,r.signinFBApi)(e,t).then(function(e){if((0,s.httpSuccess)(e.status)){(0,i.saveToken)(e.data.access_token,e.data.expires_in);(0,i.saveRefreshToken)(e.data.refresh_token,e.data.expires_in);(0,i.redirectSignedIn)(t)}else{n({isLoggingFB:false})}}).catch(function(e){var t=(0,s.messageHttpRequestSignIn)(e);n({isLoggingFB:false,messageError:t})})}function f(e,t,n){n({isLoggingGoogle:true,messageError:null});(0,r.signinGoogleApi)(e,t).then(function(e){if((0,s.httpSuccess)(e.status)){(0,i.saveToken)(e.data.access_token,e.data.expires_in);(0,i.saveRefreshToken)(e.data.refresh_token,e.data.expires_in);(0,i.redirectSignedIn)(t)}else{n({isLoggingGoogle:false})}}).catch(function(e){var t=(0,s.messageHttpRequestSignIn)(e);n({isLoggingGoogle:false,messageError:t})})}},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(548);var a=y(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();n(547);var i=n(1);var s=y(i);var l=n(564);var u=y(l);var c=n(92);var f=n(815);var d=n(813);var g=y(d);var p=n(812);var v=y(p);var m=n(535);var _=n(199);var b=n(137);var h=n(527);function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function w(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var k=function(e){O(t,e);function t(e){E(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={isLoading:false,isLoggingFB:false,isLoggingGoogle:false,messageError:false,messageMerchant:null};n.signInFB=function(e){(0,f.signinFB)(e,n.getMerchantSubdomain(),n.setData)};n.signinGoogle=function(e){console.log(e);(0,f.signinGoogle)(e,n.getMerchantSubdomain(),n.setData)};n.renderMessageError=function(e){return s.default.createElement(a.default,{style:{marginBottom:24},message:e,type:"error",showIcon:true})};n.getMerchantSubdomain=function(){var e=(0,_.getQueryParamsUrl)(n.props.location,"merchant");if(!b.IS_PRODUCTION&&(0,_.isEmpty)(e)){(0,h.redirectSignedOut)()}return e};n.setData=n.setState.bind(n);return n}o(t,[{key:"render",value:function e(){var t=this.state,n=t.messageMerchant,r=t.messageError,a=t.isLoggingFB,o=t.isLoggingGoogle;var i=n||a||o;return s.default.createElement("div",{className:u.default.login},n&&this.renderMessageError(n),r&&this.renderMessageError(r),s.default.createElement(g.default,{disable:i,signIn:this.signInFB,isLogging:a}),s.default.createElement(v.default,{disable:i,signIn:this.signinGoogle,isLogging:o}))}}]);return t}(s.default.Component);t.default=(0,m.withRouter)((0,c.translate)(function(e){return e.namespaces})(k))},818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var a=n(1);var o=b(a);var i=n(817);var s=b(i);var l=n(564);var u=b(l);var c=n(677);var f=b(c);var d=n(92);var g=n(676);var p=b(g);var v=n(199);var m=n(198);var _=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var w=_.default.bind(u.default);var O=function(e){E(t,e);function t(e,n){h(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}r(t,[{key:"render",value:function e(){var t=this.props,n=t.t,r=t.prefixCls;return o.default.createElement("div",{className:w(r+"-container")},o.default.createElement("div",{className:w(r+"-content")},o.default.createElement("div",{className:w(r+"-top")},o.default.createElement("div",{className:w(r+"-header")},o.default.createElement(f.default,{isContrast:true,size:80}),o.default.createElement(p.default,{isContrast:true,size:50})),o.default.createElement("div",{className:w(r+"-desc")},(0,v.capitalizeFirstLetter)(n("social.login.form.description")))),o.default.createElement("div",{className:w(r+"-main")},o.default.createElement(s.default,null))),o.default.createElement("div",{className:w(r+"-footer")},o.default.createElement("div",{className:w(r+"-text-forgot")},o.default.createElement("div",null,"Forgot password"),"  ·  ",o.default.createElement("div",null,"New account")),o.default.createElement("div",null,"English")))}}]);return t}(o.default.Component);O.defaultProps={prefixCls:"module-signin"};O.propTypes={};t.default=(0,d.translate)(function(e){return e.namespaces})(O)}}]);