{"version":3,"sources":["webpack:///./node_modules/antd/es/alert/index.js","webpack:///./src/modules/Signin/styles.less?b65c","webpack:///./src/modules/Signin/SignInGoogle.js","webpack:///./src/modules/Signin/SignInFB.js","webpack:///./src/apis/signinApis.js","webpack:///./src/actions/signinActions.js","webpack:///./src/modules/Signin/SignInForm.js","webpack:///./src/modules/Signin/index.js"],"names":["noop","Alert","_React$Component","babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default","props","babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","this","_this","babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","__proto__","Object","getPrototypeOf","call","handleClose","e","preventDefault","dom","react_dom__WEBPACK_IMPORTED_MODULE_6__","style","height","offsetHeight","setState","closing","onClose","animationEnd","closed","afterClose","state","babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default","key","value","render","_classNames","_props","closable","description","type","_props$prefixCls","prefixCls","undefined","message","closeText","showIcon","banner","_props$className","className","iconType","alertCls","classnames__WEBPACK_IMPORTED_MODULE_9___default","babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default","closeIcon","react__WEBPACK_IMPORTED_MODULE_5__","onClick","_icon__WEBPACK_IMPORTED_MODULE_8__","rc_animate__WEBPACK_IMPORTED_MODULE_7__","component","showProp","transitionName","onEnd","data-show","__webpack_exports__","module","exports","module-signin-container","module-signin-content","module-signin-footer","module-signin-text-forgot","module-signin-top","module-signin-header","module-signin-logo","module-signin-desc","module-signin-main","icon","module-signin-other","module-signin-register","module-signin-login","module-signin-submit","module-signin-btn","module-signin-btn-facebook","module-signin-btn-google","module-signin-text-login","module-signin-disable","_react","__webpack_require__","_reactI18next","_styles","_bind","_utility","_propTypes","_auth","_constants","cx","classNamesBind","bind","styles","BUTTON_GOOGLE_ID","SignInGoogle","context","_classCallCheck","_possibleConstructorReturn","loginGoogle","signInGoogle","auth2","data","signIn","loadAuth2","window","gapi","load","init","client_id","GOOGLE_ID","cookiepolicy","t","disable","isLogging","_react2","default","createElement","_defineProperty","id","_icon2","fontSize","position","capitalizeFirstLetter","React","Component","defaultProps","propTypes","PropTypes","bool","func","translate","namespaces","SignInFB","loginFacebook","signInFB","account","signinApi","signinFBApi","signinGoogleApi","_axios","_env","url","MERCHANT_API_URL","axios","post","email","username","password","arguments","length","merchantSubDomain","domainMerchant","PROTOCOL","DOMAIN","input_token","accessToken","facebook_id","userID","id_token","signin","signinFB","signinGoogle","_signinApis","_history","_httpRequest","isLoading","messageError","then","res","httpSuccess","status","saveToken","access_token","expires_in","saveRefreshToken","refresh_token","history","push","catch","error","messageHttpRequestSignIn","isLoggingFB","redirectSignedIn","isLoggingGoogle","_signinActions","_SignInFB","_SignInGoogle","_reactRouter","SignInForm","messageMerchant","getMerchantSubdomain","setData","console","log","renderMessageError","content","_alert2","marginBottom","subdomain","getQueryParamsUrl","location","IS_PRODUCTION","isEmpty","redirectSignedOut","_state","disableButton","login","_SignInFB2","_SignInGoogle2","withRouter","_SignInForm","_Logo","_LogoText","SignInContainer","_Logo2","isContrast","size","_LogoText2","_SignInForm2"],"mappings":"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","file":"16.2913f6caa8f441c04431.chunk.js","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Animate from 'rc-animate';\nimport Icon from '../icon';\nimport classNames from 'classnames';\nfunction noop() {}\n\nvar Alert = function (_React$Component) {\n    _inherits(Alert, _React$Component);\n\n    function Alert(props) {\n        _classCallCheck(this, Alert);\n\n        var _this = _possibleConstructorReturn(this, (Alert.__proto__ || Object.getPrototypeOf(Alert)).call(this, props));\n\n        _this.handleClose = function (e) {\n            e.preventDefault();\n            var dom = ReactDOM.findDOMNode(_this);\n            dom.style.height = dom.offsetHeight + 'px';\n            // Magic code\n            // 重复一次后才能正确设置 height\n            dom.style.height = dom.offsetHeight + 'px';\n            _this.setState({\n                closing: false\n            });\n            (_this.props.onClose || noop)(e);\n        };\n        _this.animationEnd = function () {\n            _this.setState({\n                closed: true,\n                closing: true\n            });\n            (_this.props.afterClose || noop)();\n        };\n        _this.state = {\n            closing: true,\n            closed: false\n        };\n        return _this;\n    }\n\n    _createClass(Alert, [{\n        key: 'render',\n        value: function render() {\n            var _classNames;\n\n            var _props = this.props,\n                closable = _props.closable,\n                description = _props.description,\n                type = _props.type,\n                _props$prefixCls = _props.prefixCls,\n                prefixCls = _props$prefixCls === undefined ? 'ant-alert' : _props$prefixCls,\n                message = _props.message,\n                closeText = _props.closeText,\n                showIcon = _props.showIcon,\n                banner = _props.banner,\n                _props$className = _props.className,\n                className = _props$className === undefined ? '' : _props$className,\n                style = _props.style,\n                iconType = _props.iconType;\n            // banner模式默认有 Icon\n\n            showIcon = banner && showIcon === undefined ? true : showIcon;\n            // banner模式默认为警告\n            type = banner && type === undefined ? 'warning' : type || 'info';\n            if (!iconType) {\n                switch (type) {\n                    case 'success':\n                        iconType = 'check-circle';\n                        break;\n                    case 'info':\n                        iconType = 'info-circle';\n                        break;\n                    case 'error':\n                        iconType = 'cross-circle';\n                        break;\n                    case 'warning':\n                        iconType = 'exclamation-circle';\n                        break;\n                    default:\n                        iconType = 'default';\n                }\n                // use outline icon in alert with description\n                if (!!description) {\n                    iconType += '-o';\n                }\n            }\n            var alertCls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-' + type, true), _defineProperty(_classNames, prefixCls + '-close', !this.state.closing), _defineProperty(_classNames, prefixCls + '-with-description', !!description), _defineProperty(_classNames, prefixCls + '-no-icon', !showIcon), _defineProperty(_classNames, prefixCls + '-banner', !!banner), _classNames), className);\n            // closeable when closeText is assigned\n            if (closeText) {\n                closable = true;\n            }\n            var closeIcon = closable ? React.createElement(\n                'a',\n                { onClick: this.handleClose, className: prefixCls + '-close-icon' },\n                closeText || React.createElement(Icon, { type: 'cross' })\n            ) : null;\n            return this.state.closed ? null : React.createElement(\n                Animate,\n                { component: '', showProp: 'data-show', transitionName: prefixCls + '-slide-up', onEnd: this.animationEnd },\n                React.createElement(\n                    'div',\n                    { 'data-show': this.state.closing, className: alertCls, style: style },\n                    showIcon ? React.createElement(Icon, { className: prefixCls + '-icon', type: iconType }) : null,\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-message' },\n                        message\n                    ),\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-description' },\n                        description\n                    ),\n                    closeIcon\n                )\n            );\n        }\n    }]);\n\n    return Alert;\n}(React.Component);\n\nexport default Alert;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"module-signin-container\":\"__2DS0mL\",\"module-signin-content\":\"__39Avez\",\"module-signin-footer\":\"__DMMeAC\",\"module-signin-text-forgot\":\"__xVqziS\",\"module-signin-top\":\"__3DXvD9\",\"module-signin-header\":\"__iaiisK\",\"module-signin-logo\":\"__s3fszO\",\"module-signin-desc\":\"__YaE9tg\",\"module-signin-main\":\"__2TLJEs\",\"icon\":\"__2cqj3I\",\"module-signin-other\":\"__2Mtvst\",\"module-signin-register\":\"__3SIW5G\",\"module-signin-login\":\"__22x1T2\",\"module-signin-submit\":\"__1tYhIF\",\"module-signin-btn\":\"__31J3m0\",\"module-signin-btn-facebook\":\"__zDuBpD\",\"module-signin-btn-google\":\"__1sK9M4\",\"module-signin-text-login\":\"__1VRtVB\",\"module-signin-disable\":\"__1mk9eu\"};","import React from \"react\";\nimport {translate} from \"react-i18next\";\nimport styles from './styles.less';\n\nimport classNamesBind from \"classnames/bind\";\nimport {Icon} from \"antd\";\nimport {capitalizeFirstLetter} from \"../../helpers/utility\";\nimport PropTypes from \"prop-types\";\nimport {signInGoogle} from \"../../helpers/auth\";\nimport {GOOGLE_ID} from \"../../constants\";\n\nlet cx = classNamesBind.bind(styles);\n\nconst BUTTON_GOOGLE_ID = \"sign-in-google\";\n\nclass SignInGoogle extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n    }\n\n    loginGoogle = () => {\n        signInGoogle(this.auth2, data => {\n            this.props.signIn(data);\n        });\n    };\n\n    componentDidMount() {\n        this.loadAuth2();\n    }\n\n    // attachSignin = (element) => {\n    //     this.auth2.signIn();\n    //     // this.auth2.attachClickHandler(element, {},\n    //     //     (googleUser) => {\n    //     //         this.props.signIn({id_token: googleUser.getAuthResponse().id_token});\n    //     //         console.log(googleUser.getAuthResponse().id_token);\n    //     //\n    //     //     });\n    // };\n\n    loadAuth2 = () => {\n        //es-lint-disable\n        window.gapi.load('auth2', () => {\n            this.auth2 = window.gapi.auth2.init({\n                client_id: GOOGLE_ID,\n                cookiepolicy: 'single_host_origin',\n            });\n            // this.attachSignin(document.getElementById(BUTTON_GOOGLE_ID));\n        });\n        //es-lint-enable\n    };\n\n\n    render() {\n        const {t, disable, isLogging, prefixCls} = this.props;\n        return (\n            <div className={cx(`${prefixCls}-btn`, `${prefixCls}-btn-google`, {[`${prefixCls}-disable`]: disable})}\n                 id={disable ? \"\" : BUTTON_GOOGLE_ID}\n                 onClick={this.loginGoogle}\n            >\n                <Icon type=\"google\" style={{fontSize: 25, position: 'absolute'}}/>\n                <div className={cx(`${prefixCls}-text-login`)}>{capitalizeFirstLetter(t(\n                    isLogging ? 'social.login.form.is_logging' : 'social.login.form.text_login_google'))}</div>\n            </div>\n        );\n    }\n}\n\nSignInGoogle.defaultProps = {\n    prefixCls: 'module-signin'\n};\n\nSignInGoogle.propTypes = {\n    disable: PropTypes.bool,\n    isLogging: PropTypes.bool,\n    signIn: PropTypes.func,\n};\n\nexport default translate(props => props.namespaces)(SignInGoogle);\n","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport {translate} from \"react-i18next\";\nimport styles from './styles.less';\n\nimport classNamesBind from \"classnames/bind\";\nimport {Icon} from \"antd\";\nimport {capitalizeFirstLetter} from \"../../helpers/utility\";\nimport {signInFB} from \"../../helpers/auth\";\n\nlet cx = classNamesBind.bind(styles);\n\nclass SignInFB extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n    }\n\n    loginFacebook = () => {\n        signInFB((account) => {\n            this.props.signIn(account);\n        });\n    };\n\n    render() {\n        const {t, disable, isLogging, prefixCls} = this.props;\n        return (\n            <div className={cx(`${prefixCls}-btn`, `${prefixCls}-btn-facebook`, {[`${prefixCls}-disable`]: disable})}\n                 onClick={disable ? null : this.loginFacebook}>\n                <Icon type=\"facebook\" style={{fontSize: 25, position: 'absolute'}}/>\n                <div\n                    className={cx(`${prefixCls}-text-login`)}>{capitalizeFirstLetter(t(isLogging ? 'social.login.form.is_logging' : 'social.login.form.text_login_facebook'))}</div>\n            </div>\n        );\n    }\n}\n\nSignInFB.defaultProps = {\n    prefixCls: 'module-signin'\n};\n\nSignInFB.propTypes = {\n    disable: PropTypes.bool,\n    isLogging: PropTypes.bool,\n    signIn: PropTypes.func,\n};\n\nexport default translate(props => props.namespaces)(SignInFB);\n","import axios from \"axios\";\nimport {DOMAIN, MERCHANT_API_URL, PROTOCOL} from \"../constants/env\";\n\nexport function signinApi(account) {\n    let url = MERCHANT_API_URL + `v1/auth/signin`;\n    return axios.post(url, {\n        email: account.username,\n        password: account.password\n    });\n}\n\nexport function signinFBApi(account = {}, merchantSubDomain) {\n    const domainMerchant = `${PROTOCOL}${merchantSubDomain}.${DOMAIN}`;\n\n    let url = domainMerchant + 'client-api/' + `v1/auth/facebook/token-signin`;\n    return axios.post(url, {\n        input_token: account.accessToken,\n        facebook_id: account.userID\n    });\n}\n\nexport function signinGoogleApi(account = {}, merchantSubDomain) {\n    const domainMerchant = `${PROTOCOL}${merchantSubDomain}.${DOMAIN}`;\n\n    let url = domainMerchant + 'client-api/' + `v1/auth/google/token-signin`;\n    return axios.post(url, {\n        input_token: account.id_token,\n    });\n}\n","import {signinApi, signinFBApi, signinGoogleApi} from \"../apis/signinApis\";\nimport history from \"../helpers/history\";\nimport {saveToken, saveRefreshToken, redirectSignedIn} from \"../helpers/auth\";\nimport {httpSuccess, messageHttpRequestSignIn} from \"../helpers/httpRequest\";\n\nexport function signin(account, setState) {\n    setState({isLoading: true, messageError: null});\n    signinApi(account)\n        .then(res => {\n            setState({isLoading: false});\n            if (httpSuccess(res.status)) {\n                saveToken(res.data.access_token, res.data.expires_in);\n                saveRefreshToken(res.data.refresh_token, res.data.expires_in);\n                history.push(\"/\");\n            }\n        })\n        .catch(error => {\n            const messageError = messageHttpRequestSignIn(error);\n            setState({isLoading: false, messageError});\n        });\n}\n\nexport function signinFB(account, merchantSubDomain, setState) {\n\n    setState({isLoggingFB: true, messageError: null});\n    signinFBApi(account, merchantSubDomain)\n        .then(res => {\n\n            if (httpSuccess(res.status)) {\n                saveToken(res.data.access_token, res.data.expires_in);\n                saveRefreshToken(res.data.refresh_token, res.data.expires_in);\n                redirectSignedIn(merchantSubDomain);\n            } else {\n                setState({isLoggingFB: false});\n            }\n        })\n        .catch(error => {\n            const messageError = messageHttpRequestSignIn(error);\n            setState({isLoggingFB: false, messageError});\n        });\n}\n\nexport function signinGoogle(account, merchantSubDomain, setState) {\n\n    setState({isLoggingGoogle: true, messageError: null});\n    signinGoogleApi(account, merchantSubDomain)\n        .then(res => {\n\n            if (httpSuccess(res.status)) {\n                saveToken(res.data.access_token, res.data.expires_in);\n                saveRefreshToken(res.data.refresh_token, res.data.expires_in);\n                redirectSignedIn(merchantSubDomain);\n            } else {\n                setState({isLoggingGoogle: false});\n            }\n        })\n        .catch(error => {\n            const messageError = messageHttpRequestSignIn(error);\n            setState({isLoggingGoogle: false, messageError});\n        });\n}\n","import React from \"react\";\nimport {Alert} from \"antd\";\nimport styles from \"./styles.less\";\nimport {translate} from \"react-i18next\";\nimport {signinFB, signinGoogle} from \"../../actions/signinActions\";\nimport SignInFB from \"./SignInFB\";\nimport SignInGoogle from \"./SignInGoogle\";\nimport {withRouter} from \"react-router\";\nimport {getQueryParamsUrl, isEmpty} from \"../../helpers/utility\";\nimport {IS_PRODUCTION} from \"../../constants/env\";\nimport {redirectSignedOut} from \"../../helpers/auth\";\n\nclass SignInForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.setData = this.setState.bind(this);\n    }\n\n    state = {\n        isLoading: false,\n        isLoggingFB: false,\n        isLoggingGoogle: false,\n        messageError: false,\n        messageMerchant: null,\n    };\n\n    // handleSubmit = values => {\n    //     signin(values, this.setData);\n    // };\n\n    signInFB = (account) => {\n        signinFB(account, this.getMerchantSubdomain(), this.setData);\n    };\n\n    signinGoogle = (account) => {\n        console.log(account);\n        signinGoogle(account, this.getMerchantSubdomain(), this.setData);\n    };\n\n    renderMessageError = content => {\n        return (\n            <Alert\n                style={{marginBottom: 24}}\n                message={content}\n                type=\"error\"\n                showIcon\n            />\n        );\n    };\n\n    getMerchantSubdomain = () => {\n        const subdomain = getQueryParamsUrl(this.props.location, 'merchant');\n        if (!IS_PRODUCTION && isEmpty(subdomain)) {\n            redirectSignedOut();\n        }\n        return subdomain;\n    };\n\n\n    render() {\n        const {messageMerchant, messageError, isLoggingFB, isLoggingGoogle} = this.state;\n        const disableButton = messageMerchant || isLoggingFB || isLoggingGoogle;\n        return (\n            <div className={styles.login}>\n                {messageMerchant && this.renderMessageError(messageMerchant)}\n                {messageError && this.renderMessageError(messageError)}\n                <SignInFB disable={disableButton} signIn={this.signInFB} isLogging={isLoggingFB}/>\n                <SignInGoogle disable={disableButton} signIn={this.signinGoogle} isLogging={isLoggingGoogle}/>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(translate(props => props.namespaces)(SignInForm));\n","import React from \"react\";\nimport SignInForm from \"./SignInForm\";\nimport styles from \"./styles.less\";\nimport Logo from '../../components/static/Logo';\nimport {translate} from \"react-i18next\";\nimport LogoText from \"../../components/static/LogoText\";\nimport {capitalizeFirstLetter} from \"../../helpers/utility\";\nimport classNamesBind from \"classnames/bind\";\n\nlet cx = classNamesBind.bind(styles);\n\nclass SignInContainer extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n    }\n\n    render() {\n        const {t, prefixCls} = this.props;\n        return (\n            <div className={cx(`${prefixCls}-container`)}>\n                <div className={cx(`${prefixCls}-content`)}>\n                    <div className={cx(`${prefixCls}-top`)}>\n                        <div className={cx(`${prefixCls}-header`)}>\n                            <Logo isContrast size={80}/>\n                            <LogoText isContrast size={50}/>\n                        </div>\n                        <div className={cx(`${prefixCls}-desc`)}>{\n                            capitalizeFirstLetter(t(\"social.login.form.description\"))}\n                        </div>\n                    </div>\n                    <div className={cx(`${prefixCls}-main`)}>\n                        <SignInForm/>\n                    </div>\n                </div>\n                <div className={cx(`${prefixCls}-footer`)}>\n                    <div className={cx(`${prefixCls}-text-forgot`)}>\n                        <div>Forgot password</div>\n                        &emsp; &middot; &emsp;\n                        <div>New account</div>\n                    </div>\n\n                    <div>English</div>\n                </div>\n            </div>\n        );\n    }\n}\n\nSignInContainer.defaultProps = {\n    prefixCls: 'module-signin'\n};\n\nSignInContainer.propTypes = {};\n\nexport default translate(props => props.namespaces)(SignInContainer);\n"],"sourceRoot":""}