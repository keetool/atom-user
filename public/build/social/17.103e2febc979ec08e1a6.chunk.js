(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{576:function(e,t,n){e.exports={"module-signin-container":"__2DS0mL","module-signin-content":"__39Avez","module-signin-footer":"__DMMeAC","module-signin-text-forgot":"__xVqziS","module-signin-top":"__3DXvD9","module-signin-header":"__iaiisK","module-signin-logo":"__s3fszO","module-signin-desc":"__YaE9tg","module-signin-main":"__2TLJEs",icon:"__2cqj3I","module-signin-other":"__2Mtvst","module-signin-register":"__3SIW5G","module-signin-login":"__22x1T2","module-signin-submit":"__1tYhIF","module-signin-btn":"__31J3m0","module-signin-btn-facebook":"__zDuBpD","module-signin-btn-google":"__1sK9M4","module-signin-text-login":"__1VRtVB","module-signin-disable":"__1mk9eu"}},853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(522);var a=b(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();n(526);var i=n(1);var u=b(i);var s=n(92);var l=n(576);var f=b(l);var c=n(198);var g=b(c);var d=n(199);var p=n(2);var v=b(p);var _=n(528);var m=n(527);function b(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function O(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var w=g.default.bind(f.default);var k=function(e){E(t,e);function t(e,n){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.loginGoogle=function(){(0,_.signInGoogle)(r.auth2,function(e){r.props.signIn(e)})};r.loadAuth2=function(){window.gapi.load("auth2",function(){r.auth2=window.gapi.auth2.init({client_id:m.GOOGLE_ID,cookiepolicy:"single_host_origin"})})};return r}o(t,[{key:"componentDidMount",value:function e(){this.loadAuth2()}},{key:"render",value:function e(){var t=this.props,n=t.t,r=t.disable,o=t.isLogging,i=t.prefixCls;return u.default.createElement("div",{className:w(i+"-btn",i+"-btn-google",h({},i+"-disable",r)),onClick:o?null:this.loginGoogle},u.default.createElement(a.default,{type:"google",style:{fontSize:25,position:"absolute"}}),u.default.createElement("div",{className:w(i+"-text-login")},(0,d.capitalizeFirstLetter)(n(o?"social.login.form.is_logging":"social.login.form.text_login_google"))))}}]);return t}(u.default.Component);k.defaultProps={prefixCls:"module-signin"};k.propTypes={disable:v.default.bool,isLogging:v.default.bool,signIn:v.default.func};t.default=(0,s.translate)(function(e){return e.namespaces})(k)},854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(522);var a=m(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();n(526);var i=n(1);var u=m(i);var s=n(2);var l=m(s);var f=n(92);var c=n(576);var g=m(c);var d=n(198);var p=m(d);var v=n(199);var _=n(528);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var E=p.default.bind(g.default);var w=function(e){O(t,e);function t(e,n){h(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.loginFacebook=function(){(0,_.signInFB)(function(e){r.props.signIn(e)})};return r}o(t,[{key:"render",value:function e(){var t=this.props,n=t.t,r=t.disable,o=t.isLogging,i=t.prefixCls;return u.default.createElement("div",{className:E(i+"-btn",i+"-btn-facebook",b({},i+"-disable",r)),onClick:r?null:this.loginFacebook},u.default.createElement(a.default,{type:"facebook",style:{fontSize:25,position:"absolute"}}),u.default.createElement("div",{className:E(i+"-text-login")},(0,v.capitalizeFirstLetter)(n(o?"social.login.form.is_logging":"social.login.form.text_login_facebook"))))}}]);return t}(u.default.Component);w.defaultProps={prefixCls:"module-signin"};w.propTypes={disable:l.default.bool,isLogging:l.default.bool,signIn:l.default.func};t.default=(0,f.translate)(function(e){return e.namespaces})(w)},855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.signinApi=u;t.signinFBApi=s;t.signinGoogleApi=l;var r=n(202);var a=i(r);var o=n(136);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=o.MERCHANT_API_URL+"v1/auth/signin";return a.default.post(t,{email:e.username,password:e.password})}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments[1];var n=""+o.PROTOCOL+t+"."+o.DOMAIN;var r=n+"client-api/"+"v1/auth/facebook/token-signin";return a.default.post(r,{input_token:e.accessToken,facebook_id:e.userID})}function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments[1];var n=""+o.PROTOCOL+t+"."+o.DOMAIN;var r=n+"client-api/"+"v1/auth/google/token-signin";return a.default.post(r,{input_token:e.id_token})}},856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.signin=l;t.signinFB=f;t.signinGoogle=c;var r=n(855);var a=n(659);var o=s(a);var i=n(528);var u=n(523);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){t({isLoading:true,messageError:null});(0,r.signinApi)(e).then(function(e){t({isLoading:false});if((0,u.httpSuccess)(e.status)){(0,i.saveToken)(e.data.access_token,e.data.expires_in);(0,i.saveRefreshToken)(e.data.refresh_token,e.data.expires_in);o.default.push("/")}}).catch(function(e){var n=(0,u.messageHttpRequestSignIn)(e);t({isLoading:false,messageError:n})})}function f(e,t,n){n({isLoggingFB:true,messageError:null});(0,r.signinFBApi)(e,t).then(function(e){if((0,u.httpSuccess)(e.status)){(0,i.saveToken)(e.data.access_token,e.data.expires_in);(0,i.saveRefreshToken)(e.data.refresh_token,e.data.expires_in);(0,i.redirectSignedIn)(t)}else{n({isLoggingFB:false})}}).catch(function(e){var t=(0,u.messageHttpRequestSignIn)(e);n({isLoggingFB:false,messageError:t})})}function c(e,t,n){n({isLoggingGoogle:true,messageError:null});(0,r.signinGoogleApi)(e,t).then(function(e){if((0,u.httpSuccess)(e.status)){(0,i.saveToken)(e.data.access_token,e.data.expires_in);(0,i.saveRefreshToken)(e.data.refresh_token,e.data.expires_in);(0,i.redirectSignedIn)(t)}else{n({isLoggingGoogle:false})}}).catch(function(e){var t=(0,u.messageHttpRequestSignIn)(e);n({isLoggingGoogle:false,messageError:t})})}},858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(553);var a=y(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();n(552);var i=n(1);var u=y(i);var s=n(576);var l=y(s);var f=n(92);var c=n(856);var g=n(854);var d=y(g);var p=n(853);var v=y(p);var _=n(539);var m=n(199);var b=n(136);var h=n(528);function y(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function E(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var k=function(e){w(t,e);function t(e){O(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={isLoading:false,isLoggingFB:false,isLoggingGoogle:false,messageError:false,messageMerchant:null};n.signInFB=function(e){(0,c.signinFB)(e,n.getMerchantSubdomain(),n.setData)};n.signinGoogle=function(e){(0,c.signinGoogle)(e,n.getMerchantSubdomain(),n.setData)};n.renderMessageError=function(e){return u.default.createElement(a.default,{style:{marginBottom:24},message:e,type:"error",showIcon:true})};n.getMerchantSubdomain=function(){var e=(0,m.getQueryParamsUrl)(n.props.location,"merchant");if(!b.IS_PRODUCTION&&(0,m.isEmpty)(e)){(0,h.redirectSignedOut)()}return e};n.setData=n.setState.bind(n);return n}o(t,[{key:"render",value:function e(){var t=this.state,n=t.messageMerchant,r=t.messageError,a=t.isLoggingFB,o=t.isLoggingGoogle;var i=n||a||o;return u.default.createElement("div",{className:l.default.login},n&&this.renderMessageError(n),r&&this.renderMessageError(r),u.default.createElement(d.default,{disable:i,signIn:this.signInFB,isLogging:a}),u.default.createElement(v.default,{disable:i,signIn:this.signinGoogle,isLogging:o}))}}]);return t}(u.default.Component);t.default=(0,_.withRouter)((0,f.translate)(function(e){return e.namespaces})(k))},863:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(852);var a=w(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();n(861);var i=n(1);var u=w(i);var s=n(858);var l=w(s);var f=n(576);var c=w(f);var g=n(719);var d=w(g);var p=n(92);var v=n(718);var _=w(v);var m=n(199);var b=n(198);var h=w(b);var y=n(527);var O=n(200);var E=w(O);function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function j(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function L(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var P=h.default.bind(c.default);var M=function(e){L(t,e);function t(e,n){k(this,t);return j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}o(t,[{key:"handleChangeLanguage",value:function e(t){(0,m.reload_url)((0,m.URL_add_parameter)("lang",t))}},{key:"render",value:function e(){var t=this.props,n=t.t,r=t.prefixCls;return u.default.createElement("div",{className:P(r+"-container")},u.default.createElement("div",{className:P(r+"-content")},u.default.createElement("div",{className:P(r+"-top")},u.default.createElement("div",{className:P(r+"-header")},u.default.createElement(d.default,{isContrast:true,size:80}),u.default.createElement(_.default,{isContrast:true,size:50})),u.default.createElement("div",{className:P(r+"-desc")},(0,m.capitalizeFirstLetter)(n("social.login.form.description")))),u.default.createElement("div",{className:P(r+"-main")},u.default.createElement(l.default,null))),u.default.createElement("div",{className:P(r+"-footer")},u.default.createElement(a.default,{defaultValue:E.default.language,className:c.default["dropdown-language"],onChange:this.handleChangeLanguage},y.LANGUAGES.map(function(e,t){return u.default.createElement(a.default.Option,{key:t,value:e.value},e.label)}))))}}]);return t}(u.default.Component);M.defaultProps={prefixCls:"module-signin"};M.propTypes={};t.default=(0,p.translate)(function(e){return e.namespaces})(M)}}]);